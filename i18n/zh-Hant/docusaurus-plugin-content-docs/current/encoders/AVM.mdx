---
label: AVM
sidebar_position: 15
---

# AVM

> AVM（AOM Video Model）是開放媒體聯盟為未來編碼器提供的參考實作。

[AVM](https://gitlab.com/AOMediaCodec/avm)，或稱 **A**OM **V**ideo **M**odel，是由開放媒體聯盟（Alliance for Open Media）開發的未來編碼器的參考實作，該聯盟也是 [AV1](../video/AV1.mdx) 編碼器的背後組織。這個代碼庫採用 Clear BSD 授權，目前僅能產生 `av01` 位元流。

目前，AVM 編碼器仍在開發中，尚未達到可以投入生產的階段。相關文檔和測試仍然有限。

## 謠言

有關這款新編碼器的一些訊息已在代碼庫中得到確認，但直到編碼器正式標準化並發布之前，這些變更都尚未確定。

關於這款編碼器的一些傳言包括：

- 編碼器將被命名為 AV2，取代 AV1。
- 編碼器將基於 AV1，並提供某些向下兼容的功能。
- 硬體解碼實作可能會利用現有的 AV1 解碼硬體和 GPU 葉片，無需支付版稅。
- AOM 的策略是與 ISO/ITU 的發布時間表相比，「中期」推出編碼器，這意味著「AV2」可能會與 [VVC](../video/VVC.mdx) 競爭，而非 [ECM](../video/ECM.mdx)。
- 量化器範圍將標準化為 0-255。
- AVM 嘗試通過引入更高效的去噪技術來解決 AV1 編碼中高保真度的問題，以減少 [蚊式噪聲](../introduction/video-artifacts.mdx#mosquito-noise)。

## Installation

### Arch Linux

AVM is available in the Arch User Repository (AUR) as `avm` and `avm-git`.

### Compiling

Since this encoder is under heavy development, there are no pre-built binaries provided, so you will need to compile yourself. 
Windows users are recommended to compile via MinGW-W64 which comes with [MSYS2](https://msys2.org/).

:::caution
Compilation requires CMake, Nasm, and Perl. 
:::

```bash
git clone https://gitlab.com/AOMediaCodec/avm.git
cd avm/build
cmake .. -DCMAKE_BUILD_TYPE=Release -DBUILD_SHARED_LIBS=0
make -j$(nproc)
```

Since this is a huge project, compiling will take a while depending on your CPU. 

The resulting binary will be called `aomenc`, the same name that encodes content to AV1. 
It will be available in the same folder (`build`), or you can run `make install` on Linux to install (May need elevated permissions).

## Usage

:::tip
To convert `cq-level` in aomenc and `crf` in SVT-AV1 to AVM's QP values, multiply by 4. For example, `--cq-level 20` equals to `--quantizer 60`.
:::

Simple Y4M input with QP 65, and `ivf` output:
```bash
aomenc --qp=65 -o output.ivf input.y4m
```

Preset level 6 (higher is faster), QP 65, Y4M input:
```bash
aomenc --qp=65 --cpu-used=6 -o output.ivf input.y4m
```

FFmpeg piping:
```bash
ffmpeg -v error -i input.mkv -f yuv4mpegpipe -strict -1 - | aomenc --qp=65 --cpu-used=6 -o output.ivf -
```

## aomdec 

You will need the `aomdec` binary you also compiled to be able to play your encoded video, as there are **zero** video players currently in the whole world that can play your encoded content.
---
title: xz
sidebar_position: 5
---

# XZ

:::danger 我們需要你！
此部分需要更多內容。如果你有意協助，請參考我們的 [貢獻指南](../contribution-guide.mdx) 並開始貢獻！
:::

XZ 是一種基於 Lempel-Ziv-Markov Chain 演算法（LZMA）的資料壓縮格式與工具。XZ 格式相對於 LZMA 做了改進，允許使用類似 [7-zip](../data/7z.mdx) 的預處理過濾器，以進一步提高壓縮比。

XZ 每次只能壓縮單個檔案，因此在使用 XZ 壓縮多個檔案時，需先用 [tar](./tar.mdx) 將檔案打包成一個壓縮包。

XZ 的支援範圍比許多其他壓縮格式要廣，預設支援 iOS、macOS 和多個 Linux 發行版。若要在 Windows 上進行 XZ 檔案的解壓和壓縮，可能需要安裝 7-Zip 工具。

## 使用說明
此使用說明針對 Linux 上的 `xz` 工具，但也適用於其他支援 xz 的平台。需注意的是，`xz` 的預設行為是完成壓縮或解壓後會刪除原始檔案，但可以通過以下選項來防止。你可以一次性指定多個檔案，`xz` 將分別對每個檔案執行相應操作。

### 壓縮
```bash
xz {file}
```
這會在當前目錄下創建一個名為 `{file}.xz` 的壓縮檔案。

以下是一個更高級的壓縮命令示例：
```bash
xz -# --extreme -M 800Mib -T 2 -k {file}
```

- `-#` 代表壓縮速度的預設級別，數字範圍從 0（最快）到 9（最慢）。
- `--extreme` 選項允許 xz 使用比標準預設更多的處理時間。
- `-M {size}` 選項限制 `xz` 的內存使用，可以是系統內存的百分比或絕對數量。
- `-T {threads}` 選項限制 `xz` 使用的執行續數量。
- `-k` 防止 xz 刪除原始檔案。

### 解壓
```bash
xz -d {file}.xz
```
這條命令會將 xz 壓縮檔案解壓回原始檔案。

- `-M {size}` 選項限制 `xz` 的內存使用，可以是系統內存的百分比或絕對數量。
- `-T {threads}` 選項限制 `xz` 使用的執行續數量。
- `-k` 防止 xz 刪除原始檔案。